# Forbes2022 #
Author: Benjamin Kalish
Copyright: 2021 Forbes Library

A WordPress theme for Forbes Library.

This is a work in progress. The goal is to mimic the appearance of our old WeaverII based theme while using modern standards to improve accessibility, maintainability, and performance.

Although some features are configurable no attempt has been made to make a theme that will be usable by any other individual or institution. Some content and decisions specific to the library have been hard coded either for convenience or for optimization.

## Design Goals ##
- **Speed** — both server-side and client-side code must run quickly for a good user experience
- **Accessibility** — the theme should work well for folks using screen readers and other assistive technology
- **Mobile Friendly** — we want a good experience for folks on a variety of devices including phones, tablets, and personal computers
- **Maintainability** — we want clean well documented code so that when revisions are necessary they are as easy as possible
- **Simplicity** – we want a theme with the features we need now without the bloat of features we might want later

## Features Not Supported ##
At this time this theme does not contain any code to display or style comments.

## For Developers ##
If you are reading this you are probably interested in modifying this theme. Here's what you need to know.

### Dependencies and Build Tools ###
This theme is written using [less](https://lesscss.org/), [cssnano](https://github.com/cssnano/cssnano) and other similar tools. When changes are made to the source files, these tools must be run so that the changes will be seen by WordPress.

The `package.json` file includes a number of scripts to help with this process. (If you don't see a `package.json` file make sure that you have a complete copy of the theme from the repository–many files and developer tools are missing from the build product.) To get started:

1. Install [npm](https://www.npmjs.com/) if you don't have it already. (Installing [Node](https://nodejs.org/en/download/) is sufficient and easier than using a Node version manager.)
2. Change to the this theme's root directory
3. Run `npm install` to install the theme's dependencies

Now you can run `npm run build` to build the theme–it will appear in a new
directory called `build` and a zipped version will be created called `forbes2022.zip`.

The scripts you will likely use most often are:

| Command       | Description                                                  |
|---------------|--------------------------------------------------------------|
| `npm run build` | Builds the theme in the. It will appear in a new directory `build`. If the `build` directory already exists it will be removed first.                                               |
| `npm run clean` | Removes the `build` and `tmp` directories.                 |
| `npm run lint`  | Checks the JavaScript and PHP code for common mistakes.    |

You can run `npm run` to get a list of all the scripts.

Note that linting PHP requires that [PHP CodeSniffer](https://github.com/squizlabs/PHP_CodeSniffer) be installed.

#### How to Change Styles #####
1. Make your changes to the `.less` files in the `src/less` directory. These files can contain plain CSS, but LESS also allows a number of powerful tools to make writing styles easier. Visit https://lesscss.org/ to learn more.
2. Remember to run `npm run build` after making your changes.

#### How to Change HTML Markup ####
1. HTML markup is generated by WordPress using the `.php` files `src/php`. There are many places to learn more about PHP for WordPress. Start with https://codex.wordpress.org/, https://developer.wordpress.org/.
2. Checking your PHP against the WordPress Coding Standards is highly reccomended. You will need to install [PHP CodeSniffer](https://github.com/squizlabs/PHP_CodeSniffer) and then you can just run `npm run lint:php`.
3. Remember to run `npm run build` after making your changes.

#### How to Change Scripts ####
1. JavaScript files can be found in `src/js`. If you add new scripts you will also have to enqueue them in `functions.php`.
2. Checking your JavaScript for common errors is recommended–just run `npm run lint:js`.
3. Remember to run `npm run build` after making your changes.

#### What about the scripts in the `scripts` directory? ####
These are maintenance scripts, mostly used when building the theme. They are among the scripts called when you use `npm run`. You can learn more at https://docs.npmjs.com/cli/v8/using-npm/scripts.
